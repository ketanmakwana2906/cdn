import requests
from requests.auth import HTTPBasicAuth
import urllib3

# Disable SSL warning (for local only)
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

# Twilio credentials
account_sid = "AC2b72b9d974267f404e9b72065ef32687"
auth_token = "fe294e7afc4e0178cc5529b83fc434a3"

# Message data
from_number = "+14155238886"  # Twilio number
to_number = "+916354888981"   # Your verified number
body = "Hello from direct API call!"

# Twilio API URL
url = f"https://api.twilio.com/2010-04-01/Accounts/{account_sid}/Messages.json"

# Payload
data = {
    "From": from_number,
    "To": to_number,
    "Body": body
}

# Make the request with SSL verification disabled
response = requests.post(
    url,
    data=data,
    auth=HTTPBasicAuth(account_sid, auth_token),
    verify=False  # <- Disables SSL verification
)

# Print response
if response.status_code == 201:
    print("Message sent successfully! SID:", response.json()["sid"])
else:
    print("Failed:", response.status_code, response.text)
    
