please check this exception Exception under get ta refund eval() arg 1 must be a string, bytes or code object
when TaRefundAccountSaveDetailsSerializer used there is no error but have to use TaRefundAccountDetailsSerializer for formatted data

def get_ta_refund_details(booking):
    try:
        ta_refunds_data = TaRefundAccountDetails.objects.filter(tm_booking_id=booking.tm_booking_id)
        serialized_data = TaRefundAccountDetailsSerializer(ta_refunds_data, many=True)
        refunds = serialized_data.data
        return refunds
    except Exception as e:
        print("Exception under get ta refund",e)

class TaRefundAccountDetailsSerializer(ModelSerializer):
    ac_number = serializers.SerializerMethodField()
    ifsc_code = serializers.SerializerMethodField()
    ac_holder_name = serializers.SerializerMethodField()
    upi_id = serializers.SerializerMethodField()
    phone = serializers.SerializerMethodField()
    note = SerializerMethodField()
    sub_note = SerializerMethodField()

    def get_note(self, instance):
        return eval(instance.note)

    def get_sub_note(self, instance):
        if instance.refunded:
            return TA_3X_REFUND_SUB_NOTE
        return ""

    def mask(self, ac_number, digits_to_keep=4, mask_char='*'):
        return len(ac_number[:-digits_to_keep]) * mask_char + ac_number[-digits_to_keep:]

    def mask_upi(self, upi_id, mask_char='*'):
        if upi_id == 'dummyUPI@trainman':
            return upi_id

        new_str = ""
        str = upi_id.split('@')
        if not str[0] or len(str[0]) < 2:
            return upi_id

        mask_len = max(- len(str[0]) // 2, -3)
        return len(str[0][ : mask_len]) * mask_char + str[0][-mask_len:] + "@" + str[1]

    def get_ac_number(self, obj):
        if obj.ac_number:
            return self.mask(obj.ac_number)
        return ""

    def get_ifsc_code(self, obj):
        if obj.ifsc_code:
            return obj.ifsc_code
        return ""

    def get_ac_holder_name(self, obj):
        if obj.ac_holder_name:
            return obj.ac_holder_name
        return ""

    def get_phone(self, obj):
        if obj.phone:
            return self.mask(obj.phone)
        return ""

    def get_upi_id(self, obj):
        if obj.upi_id:
            return self.mask_upi(obj.upi_id)
        return ""

    class Meta:
        model = TaRefundAccountDetails
        fields = '__all__'


class TaRefundAccountSaveDetailsSerializer(ModelSerializer):

    class Meta:
        model = TaRefundAccountDetails
        fields = '__all__'
